<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script type="text/javascript">
      // GitHub Pages 404 重定向脚本
      // 当访问不存在的路径时，此脚本会将用户重定向回仓库首页
      (function() {
        var path = window.location.pathname;
        // 尝试检测仓库名称（通常是路径的第一段）
        // 例如：/customer-service-kb/foo -> repo = "customer-service-kb"
        var segments = path.split('/').filter(function(p) { return p !== ''; });
        
        if (segments.length > 0) {
          // 假设第一段是仓库名，重定向到 /仓库名/
          // 这样可以确保加载 index.html
          var repo = segments[0];
          var newPath = '/' + repo + '/';
          
          // 防止死循环：如果当前就是首页，不重定向
          if (path === newPath || path === '/' + repo) {
             return;
          }
          
          // 保留 Hash (如果有)
          if (window.location.hash) {
            newPath += window.location.hash;
          }
          
          window.location.replace(newPath);
        } else {
          // 根路径，直接重定向到 /
          if (path !== '/') {
            window.location.replace('/');
          }
        }
      })();
    </script>
  </head>
  <body>
    <p>Page not found. Redirecting to home...</p>
  </body>
</html>